(this.webpackJsonpapi_app=this.webpackJsonpapi_app||[]).push([[0],{21:function(e,a,t){e.exports=t(50)},46:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),i=t(13),r=t.n(i),c=t(3),l=t.n(c),m=t(14),o=t(15),g=t(16),d=t(20),u=t(19),h=t(17),p=t.n(h),b=t(18),v=t.n(b),y=(t(46),t(2)),S=t.n(y),f=t(49);function E(e){e.key;var a=e.messageSubject,t=e.messageSender,s=e.messageAt,i=e.messagePriority,r=e.messageContent;return n.a.createElement("div",{className:"mail"},n.a.createElement("div",{className:"mail__data"},n.a.createElement("h3",{className:"mail__title"},a),n.a.createElement("h5",{className:"mail__sender"},"from: ",t),n.a.createElement("h5",{className:"mail__getTime"},f(s,"dddd, mmmm dS, yyyy, h:MM:ss TT"),"\u30fbPriority:",{3:"\u7dca\u6025",2:"\u9ad8",1:"\u4e2d",0:"\u4f4e"}[i]),n.a.createElement("p",{className:"mail_contents"},r)))}E.prototype={id:S.a.string.isRequired,messageSubject:S.a.string.isRequired,messageSender:S.a.string.isRequired,messageAt:S.a.string.isRequired,messagePriority:S.a.string.isRequired,messageContent:S.a.string.isRequired};var x=E,k=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={isLoading:!0,mail:[],messages:[],id:""},e.handleChange=function(a){console.log(a.target.value),e.setState({id:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.getSearchMail()},e.getSearchMail=Object(m.a)(l.a.mark((function a(){var t,s,n,i,r;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("123456",t=e.state.id,console.log("search",e.setState.id),a.prev=3,""!==t){a.next=8;break}e.setState({mail:[],isLoading:!1}),a.next=15;break;case 8:return s=e.state.id,a.next=11,p.a.get("https://coding-assignment-v1.now.sh/api/v1/inbox/".concat(s));case 11:n=a.sent,i=v()(n.data.payload),r=i.messages,e.setState({mail:i,isLoading:!1,messages:r});case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(3),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[3,17]])}))),e}return Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getSearchMail()}},{key:"render",value:function(){var e=this.state,a=e.isLoading,t=e.mail,s=e.messages;return console.log(t),console.log(s),n.a.createElement("div",null,a?"Loading...":n.a.createElement("form",{className:"search",onSubmit:this.handleSubmit},n.a.createElement("h1",null,"Search"),n.a.createElement("input",{className:"keyword",type:"text",value:this.state.id,onChange:this.handleChange,placeholder:"Search Email.."}),n.a.createElement("h5",null,"inboxAlias:",t.inboxAlias),n.a.createElement("h5",null,"inboxId:",t.inboxId),n.a.createElement("div",{className:"mails"},Object.keys(s).map((function(e){return n.a.createElement(x,{key:t.inboxId,messageSubject:s[e].messageSubject,messageSender:s[e].messageSender,messageAt:s[e].messageAt,messagePriority:s[e].messagePriority,messageContent:s[e].messageContent})})))))}}]),t}(n.a.Component);r.a.render(n.a.createElement(k,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.0da25e84.chunk.js.map